# Backend Configuration
# Copy this file to .env and fill in your values

# ============================================
# SERVER
# ============================================
PORT=5000
NODE_ENV=development

# ============================================
# DATABASE - Azure PostgreSQL
# ============================================
DB_HOST=your-server.postgres.database.azure.com
DB_PORT=5432
DB_NAME=umbrella_reports
DB_USER=your_username
DB_PASSWORD=your_password

# ============================================
# MICROSOFT ENTRA ID (Azure AD) / MSAL
# Get these from Azure Portal > App Registrations
# ============================================
AZURE_TENANT_ID=your_tenant_id
AZURE_CLIENT_ID=your_client_id
AZURE_CLIENT_SECRET=your_client_secret

# ============================================
# MICROSOFT GRAPH API
# ============================================
GRAPH_API_SCOPE=https://graph.microsoft.com/.default

# ============================================
# SHAREPOINT
# Get Drive ID from Graph Explorer or SharePoint API
# ============================================
SHAREPOINT_SITE_URL=https://your-org.sharepoint.com
SHAREPOINT_DRIVE_ID=your_drive_id

# SharePoint config folder path (relative to drive root)
SHAREPOINT_CONFIG_BASE_PATH=_backend/Umbrella Report Config

# ============================================
# SECURITY - Generate strong secrets for production!
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# ============================================
JWT_SECRET=your_jwt_secret_min_32_chars
SESSION_SECRET=your_session_secret_min_32_chars

# ============================================
# CORS - Frontend URL
# ============================================
FRONTEND_URL=http://localhost:5173

# ============================================
# TWILIO - SMS/MMS Webhooks
# Get these from Twilio Console
# ============================================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Twilio webhook URL override (required behind reverse proxies like Render)
# This ensures signature validation uses the correct HTTPS URL
TWILIO_WEBHOOK_URL=https://your-domain.onrender.com/api/sms/incoming
